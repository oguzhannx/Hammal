@model SystemUser

<main class="container">

  <div class="my-3 p-3 bg-body rounded shadow-sm">
    <h6 class="border-bottom pb-2 mb-0">Suggestions</h6>

    <h5>Employee Kayıt Sayfası</h5>
    <form id="registerForm" class="row"  method="post">
      <hr />
      <div class="form-floating mb-3 col-md-6">
        <select class="form-control" id="categoryDropdown"></select>
      </div>
      <div class="form-floating mb-3 col-md-6">
        <select class="form-control" id="altCategoryDropdown" ></select>
      </div>
      





      <div class="form-floating mb-3">
        <input asp-for="@Model.Name" class="form-control" placeholder="Name" area-required="true" />
        <label asp-for="@Model.Name"></label>
        <span asp-validation-for="@Model.Name" class="text-danger"></span>
      </div>
      <div class="form-floating mb-3">
        <input asp-for="@Model.Email" class="form-control" autocomplete="username" aria-required="true" placeholder="name@example.com" />
        <label asp-for="@Model.Email">Email</label>
        <span asp-validation-for="@Model.Email" class="text-danger"></span>
      </div>

     @* <div class="form-floating mb-3 col-md-6">

        <select asp-for="@Model.City" id="citiesDropdown" asp-items="@Model.AddressVM.CityList" class="form-select">
          <option disabled selected>--Select City--</option>
        </select>
        <span asp-validation-for="@Model.Street" class="text-danger"></span>


      </div>
      <div class="form-floating mb-3 col-md-6">

        <select asp-for="@Model.District" id="districtDropdown" class="form-select">
          <option disabled selected>--Select District--</option>
        </select>
        <span asp-validation-for="@Model.Street" class="text-danger"></span>

      </div>
      <div class="form-floating mb-3 col-md-6">
        <input asp-for="@Model.Street" class="form-control" placeholder="State" />
        <label asp-for="@Model.Street"></label>
        <span asp-validation-for="@Model.Street" class="text-danger"></span>
      </div>
      <div class="form-floating mb-3 col-md-6">
        <input asp-for="@Model.PhoneNumber" class="form-control" placeholder="Phone Number" />
        <label asp-for="@Model.PhoneNumber"></label>
        <span asp-validation-for="@Model.PhoneNumber" class="text-danger"></span>
      </div>

      <div class="form-floating mb-3 col-md-6">
        <input asp-for="@Model.Password" class="form-control" autocomplete="new-password" aria-required="true" placeholder="password" />
        <label asp-for="@Model.Password">Password</label>
        <span asp-validation-for="@Model.Password" class="text-danger"></span>
      </div>
      <div class="form-floating mb-3 col-md-6">
        <input asp-for="@Model.ConfirmPassword" class="form-control" autocomplete="new-password" aria-required="true" placeholder="password" />
        <label asp-for="@Model.ConfirmPassword">Confirm Password</label>
        <span asp-validation-for="@Model.ConfirmPassword" class="text-danger"></span>
      </div>
      <div class="form-floating mb-3 py-2">
        <select asp-for="@Model.Role" asp-items="@Model.@Model.RoleList" asp- class="form-select">
          <option disabled selected>--Select Role--</option>
        </select>
      </div>*@
      <button id="registerSubmit" type="submit" class="w-100 btn btn-lg btn-primary">Register</button>
    </form>
  </div>
</main>






@section Scripts {
  <partial name="_ValidationScriptsPartial" />

  <script>
    $(function () {
      $('#categoryDropdown').change(function () {
        debugger;

        var id = $(this).val();
        //$('#districtDropdown').empty();
        $('#altCategoryDropdown').append(id)

        $.ajax({
          url: "@Url.Action("GetAltCategoryById","Category")",
          type: 'GET',
          data: { id: id },
          success: function (data) {
            $('#altCategoryDropdown').empty();
            $('#altCategoryDropdown').append($('<option>').text('--Select AltCategory--').attr('value', ''));

            $.each(data.data, function (i, item) {
              $('#altCategoryDropdown').append($('<option>').text(item.name).val(item.id));
            });
          },
          error: function (xhr, status, error) {

            console.log(error);
          }
        });

      });
    });


    $(document).ready(function () {
      // Ajax isteği gönder
      $.ajax({
        url: '@Url.Action("GetAllAltCategories","Category")',
        type: 'GET',
        dataType: 'json',
        success: function (data) {
          // Ajax isteği başarılı olduğunda dropdown listesini güncelle
          var dropdown = $('#altCategoryDropdown');
          dropdown.empty();

          // Verileri dropdown listesine ekle
          $.each(data.data, function (i, item) {
            dropdown.append($('<option>').text(item.name).val(item.id));
          });
        },
        error: function () {
          // Ajax isteği başarısız olduğunda hata işleme kodu
        }
      });
    });
    // Ajax isteği gönder
    $.ajax({
      url: '@Url.Action("GetAll","Category")',
      type: 'GET',
      dataType: 'json',
      success: function (data) {
        // Ajax isteği başarılı olduğunda dropdown listesini güncelle
        var dropdown = $('#categoryDropdown');
        dropdown.empty();

        // Verileri dropdown listesine ekle
        $.each(data.data, function (i, item) {
          dropdown.append($('<option>').text(item.name).val(item.id));
        });
      },
      error: function () {
        // Ajax isteği başarısız olduğunda hata işleme kodu
      }
    });
       


  </script>
}


